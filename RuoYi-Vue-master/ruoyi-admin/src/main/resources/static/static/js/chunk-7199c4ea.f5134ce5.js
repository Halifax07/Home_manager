(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7199c4ea"],{"76bd":function(e,t,a){"use strict";a("8813")},8813:function(e,t,a){},f509:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var l=a("b775");function i(){return Object(l["a"])({url:"/family/members/personal",method:"get"})}function o(e){return Object(l["a"])({url:"/family/members/personal",method:"put",data:e})}},fc8f:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"header-title"},[e._v("个人信息")])]),a("el-descriptions",{attrs:{column:2,border:""}},[a("el-descriptions-item",{attrs:{label:"姓名"}},[e._v(" "+e._s(e.personalInfo.name||"-")+" ")]),a("el-descriptions-item",{attrs:{label:"性别"}},[e._v(" "+e._s(e.personalInfo.gender||"-")+" ")]),a("el-descriptions-item",{attrs:{label:"家庭关系"}},[e._v(" "+e._s(e.personalInfo.kinship||"-")+" ")]),a("el-descriptions-item",{attrs:{label:"职业"}},[e._v(" "+e._s(e.personalInfo.occupation||"-")+" ")]),a("el-descriptions-item",{attrs:{label:"登录账号"}},[e._v(" "+e._s(e.personalInfo.account||"-")+" ")]),a("el-descriptions-item",{attrs:{label:"家庭角色"}},["管理员"===e.personalInfo.role?a("el-tag",{attrs:{type:"danger"}},[e._v("家庭管理员")]):a("el-tag",{attrs:{type:"primary"}},[e._v("普通家庭成员")])],1),a("el-descriptions-item",{attrs:{label:"所属家庭"}},[e._v(" "+e._s(e.personalInfo.familyName||"-")+" ")])],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.editPersonalInfo}},[e._v("修改个人信息")])],1)],1),a("el-dialog",{attrs:{title:"修改个人信息",visible:e.editDialog,width:"600px"},on:{"update:visible":function(t){e.editDialog=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.editRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[a("el-radio-group",{model:{value:e.editForm.gender,callback:function(t){e.$set(e.editForm,"gender",t)},expression:"editForm.gender"}},[a("el-radio",{attrs:{label:"男"}},[e._v("男")]),a("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1),a("el-form-item",{attrs:{label:"家庭关系",prop:"kinship"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择家庭关系"},model:{value:e.editForm.kinship,callback:function(t){e.$set(e.editForm,"kinship",t)},expression:"editForm.kinship"}},[a("el-option",{attrs:{label:"父亲",value:"父亲"}}),a("el-option",{attrs:{label:"母亲",value:"母亲"}}),a("el-option",{attrs:{label:"儿子",value:"儿子"}}),a("el-option",{attrs:{label:"女儿",value:"女儿"}})],1)],1),a("el-form-item",{attrs:{label:"职业",prop:"occupation"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择职业"},model:{value:e.editForm.occupation,callback:function(t){e.$set(e.editForm,"occupation",t)},expression:"editForm.occupation"}},[a("el-option",{attrs:{label:"教师",value:"教师"}}),a("el-option",{attrs:{label:"医生",value:"医生"}}),a("el-option",{attrs:{label:"公务员",value:"公务员"}}),a("el-option",{attrs:{label:"程序员",value:"程序员"}}),a("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitEdit}},[e._v("确 定")])],1)],1)],1)},i=[],o=a("5530"),r=a("f509"),n={name:"Personal",data:function(){return{personalInfo:{},editDialog:!1,editForm:{},editRules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"change"}],kinship:[{required:!0,message:"家庭关系不能为空",trigger:"blur"}]}}},created:function(){this.getPersonalInfo()},methods:{getPersonalInfo:function(){var e=this;Object(r["a"])().then((function(t){e.personalInfo=t.data}))},editPersonalInfo:function(){this.editForm=Object(o["a"])({},this.personalInfo),this.editDialog=!0},submitEdit:function(){var e=this;this.$refs["editForm"].validate((function(t){t&&Object(r["b"])(e.editForm).then((function(t){e.$modal.msgSuccess("修改成功"),e.editDialog=!1,e.getPersonalInfo()}))}))}}},s=n,c=(a("76bd"),a("2877")),d=Object(c["a"])(s,l,i,!1,null,"65d85452",null);t["default"]=d.exports}}]);